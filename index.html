<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Effort vs Impact</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 16px;
      background: #ffffff;
    }

    #container {
      max-width: 800px;
      margin: auto;
    }

    #chart {
      border: 1px solid #ccc;
      background: #fafafa;
      cursor: crosshair;
    }

    .axis {
      stroke: #333;
      stroke-width: 2;
    }

    .label {
      font-size: 12px;
      pointer-events: none;
      user-select: none;
    }

    .point {
      fill: #2563eb;
      cursor: grab;
    }

    .point:active {
      cursor: grabbing;
    }

    #inputArea {
      margin-top: 12px;
      display: flex;
      gap: 8px;
    }

    input {
      flex: 1;
      padding: 8px;
      font-size: 14px;
    }

    button {
      padding: 8px 12px;
      font-size: 14px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="container">
    <svg id="chart" width="700" height="450"></svg>

    <div id="inputArea">
      <input id="textInput" type="text" placeholder="Enter item name…" />
      <button onclick="addPoint()">Add</button>
    </div>
  </div>

  <script>
    const svg = document.getElementById("chart");
    const width = svg.clientWidth;
    const height = svg.clientHeight;
    const padding = 50;

    let dragging = null;
    let offsetX = 0;
    let offsetY = 0;

    function drawAxes() {
      svg.appendChild(line(padding, height - padding, width - padding, height - padding));
      svg.appendChild(line(padding, padding, padding, height - padding));

      svg.appendChild(text("Effort →", width - padding - 40, height - padding + 30));
      svg.appendChild(text("Impact ↑", padding - 40, padding - 10));
    }

    function line(x1, y1, x2, y2) {
      const l = document.createElementNS("http://www.w3.org/2000/svg", "line");
      l.setAttribute("x1", x1);
      l.setAttribute("y1", y1);
      l.setAttribute("x2", x2);
      l.setAttribute("y2", y2);
      l.setAttribute("class", "axis");
      return l;
    }

    function text(content, x, y) {
      const t = document.createElementNS("http://www.w3.org/2000/svg", "text");
      t.textContent = content;
      t.setAttribute("x", x);
      t.setAttribute("y", y);
      t.setAttribute("class", "label");
      return t;
    }

    function addPoint() {
      const value = document.getElementById("textInput").value.trim();
      if (!value) return;

      const x = padding + Math.random() * (width - 2 * padding);
      const y = padding + Math.random() * (height - 2 * padding);

      const group = document.createElementNS("http://www.w3.org/2000/svg", "g");

      const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
      circle.setAttribute("cx", x);
      circle.setAttribute("cy", y);
      circle.setAttribute("r", 6);
      circle.setAttribute("class", "point");

      const label = document.createElementNS("http://www.w3.org/2000/svg", "text");
      label.textContent = value;
      label.setAttribute("x", x);
      label.setAttribute("y", y - 10);
      label.setAttribute("class", "label");

      group.appendChild(circle);
      group.appendChild(label);
      svg.appendChild(group);

      circle.addEventListener("mousedown", e => {
        dragging = { circle, label };
        offsetX = e.offsetX - circle.getAttribute("cx");
        offsetY = e.offsetY - circle.getAttribute("cy");
      });

      document.getElementById("textInput").value = "";
    }

    svg.addEventListener("mousemove", e => {
      if (!dragging) return;

      let x = e.offsetX - offsetX;
      let y = e.offsetY - offsetY;

      x = Math.max(padding, Math.min(width - padding, x));
      y = Math.max(padding, Math.min(height - padding, y));

      dragging.circle.setAttribute("cx", x);
      dragging.circle.setAttribute("cy", y);
      dragging.label.setAttribute("x", x);
      dragging.label.setAttribute("y", y - 10);
    });

    window.addEventListener("mouseup", () => dragging = null);

    drawAxes();
  </script>
</body>
</html>

