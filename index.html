<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Effort vs Impact</title>
  <style>
    :root {
      --bg: #f8fafc;
      --axis: #1f2933;
      --grid: #e5e7eb;
      --text: #111827;
    }

    body {
      margin: 0;
      padding: 24px;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    #container {
      max-width: 900px;
      margin: auto;
    }

    h1 {
      font-size: 20px;
      margin-bottom: 12px;
    }

    svg {
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.08);
      touch-action: none;
    }

    .axis {
      stroke: var(--axis);
      stroke-width: 2;
    }

    .grid {
      stroke: var(--grid);
      stroke-width: 1;
    }

    .label {
      font-size: 12px;
      fill: #374151;
      pointer-events: none;
    }

    .point {
      cursor: grab;
    }

    .point:active {
      cursor: grabbing;
    }

    #controls {
      margin-top: 16px;
      display: flex;
      gap: 8px;
    }

    input {
      flex: 1;
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      font-size: 14px;
    }

    button {
      padding: 10px 14px;
      border-radius: 8px;
      border: none;
      background: #2563eb;
      color: white;
      font-size: 14px;
      cursor: pointer;
    }

    #trash {
      position: absolute;
      right: 40px;
      bottom: 40px;
      width: 70px;
      height: 70px;
      border-radius: 16px;
      background: #fee2e2;
      color: #991b1b;
      display: none;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.15);
    }
  </style>
</head>
<body>
<div id="container">
  <h1>Effort vs Impact</h1>

  <svg id="chart" width="800" height="500"></svg>

  <div id="controls">
    <input id="textInput" placeholder="Add an initiative‚Ä¶" />
    <button onclick="addPoint()">Add</button>
  </div>
</div>

<div id="trash">üóëÔ∏è</div>

<script>
const svg = document.getElementById("chart");
const trash = document.getElementById("trash");

const width = svg.clientWidth;
const height = svg.clientHeight;
const padding = 60;
const centerX = width / 2;
const centerY = height / 2;

let dragging = null;
let offsetX = 0;
let offsetY = 0;

const colors = [
  "#2563eb", "#16a34a", "#dc2626",
  "#7c3aed", "#ea580c", "#0891b2"
];
let colorIndex = 0;

function drawGrid() {
  const step = 50;
  for (let x = padding; x <= width - padding; x += step) {
    svg.appendChild(gridLine(x, padding, x, height - padding));
  }
  for (let y = padding; y <= height - padding; y += step) {
    svg.appendChild(gridLine(padding, y, width - padding, y));
  }
}

function gridLine(x1, y1, x2, y2) {
  const l = document.createElementNS("http://www.w3.org/2000/svg", "line");
  l.setAttribute("x1", x1);
  l.setAttribute("y1", y1);
  l.setAttribute("x2", x2);
  l.setAttribute("y2", y2);
  l.setAttribute("class", "grid");
  return l;
}

function drawAxes() {
  svg.appendChild(axisLine(padding, centerY, width - padding, centerY));
  svg.appendChild(axisLine(centerX, padding, centerX, height - padding));

  svg.appendChild(label("Effort ‚Üí", width - padding + 10, centerY - 6));
  svg.appendChild(label("‚Üê Negative Effort", padding - 90, centerY - 6));
  svg.appendChild(label("Impact ‚Üë", centerX + 6, padding - 10));
  svg.appendChild(label("‚Üì Negative Impact", centerX + 6, height - padding + 20));
}

function axisLine(x1, y1, x2, y2) {
  const l = document.createElementNS("http://www.w3.org/2000/svg", "line");
  l.setAttribute("x1", x1);
  l.setAttribute("y1", y1);
  l.setAttribute("x2", x2);
  l.setAttribute("y2", y2);
  l.setAttribute("class", "axis");
  return l;
}

function label(textContent, x, y) {
  const t = document.createElementNS("http://www.w3.org/2000/svg", "text");
  t.textContent = textContent;
  t.setAttribute("x", x);
  t.setAttribute("y", y);
  t.setAttribute("class", "label");
  return t;
}

function addPoint() {
  const text = textInput.value.trim();
  if (!text) return;

  const color = colors[colorIndex++ % colors.length];

  const group = document.createElementNS("http://www.w3.org/2000/svg", "g");

  const cx = centerX + (Math.random() - 0.5) * 200;
  const cy = centerY + (Math.random() - 0.5) * 200;

  const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
  circle.setAttribute("cx", cx);
  circle.setAttribute("cy", cy);
  circle.setAttribute("r", 7);
  circle.setAttribute("fill", color);
  circle.setAttribute("class", "point");

  const t = document.createElementNS("http://www.w3.org/2000/svg", "text");
  t.textContent = text;
  t.setAttribute("x", cx);
  t.setAttribute("y", cy - 12);
  t.setAttribute("text-anchor", "middle");
  t.setAttribute("class", "label");

  group.appendChild(circle);
  group.appendChild(t);
  svg.appendChild(group);

  circle.addEventListener("mousedown", e => {
    dragging = { group, circle, t };
    offsetX = e.offsetX - cx;
    offsetY = e.offsetY - cy;
    trash.style.display = "flex";
  });

  textInput.value = "";
}

svg.addEventListener("mousemove", e => {
  if (!dragging) return;

  const x = Math.max(padding, Math.min(width - padding, e.offsetX - offsetX));
  const y = Math.max(padding, Math.min(height - padding, e.offsetY - offsetY));

  dragging.circle.setAttribute("cx", x);
  dragging.circle.setAttribute("cy", y);
  dragging.t.setAttribute("x", x);
  dragging.t.setAttribute("y", y - 12);
});

window.addEventListener("mouseup", e => {
  if (!dragging) return;

  const rect = trash.getBoundingClientRect();
  if (
    e.clientX >= rect.left &&
    e.clientX <= rect.right &&
    e.clientY >= rect.top &&
    e.clientY <= rect.bottom
  ) {
    dragging.group.remove();
  }

  trash.style.display = "none";
  dragging = null;
});

// Init
drawGrid();
drawAxes();
</script>
</body>
</html>

